@startuml Alzheimer's Drug Discovery Workflow
!theme plain
skinparam backgroundColor #FFFFFF
skinparam defaultFontSize 10
skinparam defaultFontName Arial
skinparam linetype ortho
skinparam nodesep 60
skinparam ranksep 80
left to right direction

title Alzheimer's Drug Discovery: Complete Data Flow & Tool Chain (Landscape View)

' Define colors
skinparam rectangle {
    BackgroundColor<<database>> #E3F2FD
    BorderColor<<database>> #1976D2
    FontColor<<database>> #000000
    BackgroundColor<<tool>> #FFF3E0
    BorderColor<<tool>> #F57C00
    FontColor<<tool>> #000000
    BackgroundColor<<process>> #E8F5E9
    BorderColor<<process>> #388E3C
    FontColor<<process>> #000000
    BackgroundColor<<output>> #F3E5F5
    BorderColor<<output>> #7B1FA2
    FontColor<<output>> #000000
    BackgroundColor<<section>> #FAFAFA
    BorderColor<<section>> #757575
    FontColor<<section>> #000000
}

skinparam note {
    BackgroundColor #FFFACD
    BorderColor #DAA520
    FontSize 9
}

' ============================================================================
' HORIZONTAL FLOW: LEFT TO RIGHT (3 ROWS)
' ============================================================================

' ROW 1: DATA COLLECTION (Section 0 & 3)
rectangle "**SETUP**\nGoogle\nColab" as sec0 <<section>>
database "**ChEMBL**\nDatabase\n(EMBL-EBI)" as chembl <<database>>
rectangle "**Raw**\n7,918\ncompounds" as raw <<output>>
rectangle "**Filter**\npandas" as clean <<process>>
rectangle "**Curated**\n1,319\ncompounds" as curated <<output>>
rectangle "**Classify**\nActive/\nInactive" as classify <<process>>
rectangle "**Labeled**\nData" as labeled <<output>>

' ROW 2: EDA & FEATURE ENGINEERING (Section 4 & 5)
rectangle "**RDKit**\nLipinski" as rdkit <<tool>>
rectangle "**pIC50**\nTransform" as pic50 <<process>>
rectangle "**Stats**\nMann-\nWhitney" as stats <<tool>>
rectangle "**Export**\nSMILES" as export <<process>>
database "**PubChem**\nFingerprint\n(NIH/NCBI)" as pubchem <<database>>
rectangle "**PaDEL**\nJava Tool" as padel <<tool>>
rectangle "**881**\nFingerprints" as fingerprints <<output>>
rectangle "**Merge**\nX + Y" as merge <<process>>
rectangle "**Final**\n1,319×883" as final <<output>>

' ROW 3: MACHINE LEARNING (Section 6 & 7)
rectangle "**Variance**\nFilter\n881→178" as variance <<process>>
rectangle "**Split**\n80/20" as split <<process>>
rectangle "**Lazy**\nPredict\n30+ Models" as lazy <<tool>>
rectangle "**Top 5**\nModels" as top5 <<output>>
rectangle "**Cross**\nValidation\n5-Fold" as cv <<tool>>
rectangle "**Grid**\nSearch" as grid <<tool>>
rectangle "**Ensemble**\nVoting" as ensemble <<tool>>
rectangle "**FINAL**\nR²=0.78\nRMSE=0.58" as final_model <<output>>

' ============================================================================
' CONNECTIONS: ROW 1 (DATA COLLECTION)
' ============================================================================

sec0 -right-> chembl : "Setup"
chembl -right-> raw : "Download"
raw -right-> clean : "Filter"
clean -right-> curated : "1,319"
curated -right-> classify : "Label"
classify -right-> labeled : "Classes"

' ============================================================================
' CONNECTIONS: ROW 1 → ROW 2 (EDA START)
' ============================================================================

labeled -down-> rdkit : "EDA"
labeled -down-> pic50 : "Transform"

' ============================================================================
' CONNECTIONS: ROW 2 (EDA & FEATURES)
' ============================================================================

rdkit -right-> stats : "Lipinski"
pic50 -right-> stats : "pIC50"
stats -right-> export : "Validate"
export -right-> pubchem : "SMILES"
pubchem -right-> padel : "Fingerprint"
padel -right-> fingerprints : "881 bits"
fingerprints -right-> merge : "Features"
pic50 -down-> merge : "Target"
merge -right-> final : "Dataset"

' ============================================================================
' CONNECTIONS: ROW 2 → ROW 3 (ML START)
' ============================================================================

final -down-> variance : "ML"

' ============================================================================
' CONNECTIONS: ROW 3 (MACHINE LEARNING)
' ============================================================================

variance -right-> split : "178 features"
split -right-> lazy : "Train/Test"
lazy -right-> top5 : "Benchmark"
top5 -right-> cv : "Select"
cv -right-> grid : "Tune"
grid -right-> ensemble : "Optimize"
ensemble -right-> final_model : "Deploy"

' ============================================================================
' ANNOTATIONS
' ============================================================================

note top of chembl
  **ChEMBL (UK - EMBL-EBI)**
  • 2M+ bioactive compounds
  • IC50 measurements
  • SMILES structures
end note

note top of clean
  **Filters Applied:**
  7,918 → 1,497 (IC50 only)
  → 1,351 (nM units)
  → 1,319 (no nulls)
end note

note top of classify
  **Classes:**
  • Active: ≤1,000 nM (449)
  • Intermediate: 1K-10K (375)
  • Inactive: ≥10,000 nM (495)
end note

note top of rdkit
  **Lipinski Descriptors:**
  • MW (Molecular Weight)
  • LogP (Lipophilicity)
  • H-bond Donors
  • H-bond Acceptors
end note

note top of pic50
  **Formula:**
  pIC50 = -log₁₀(IC50 in M)
  = 9 - log₁₀(IC50 in nM)
  
  **Why?**
  • Normalizes distribution
  • Higher = Better
end note

note top of pubchem
  **PubChem (USA - NIH/NCBI)**
  • 100M+ compounds
  • 881-bit fingerprint system
  • Element counts, rings,
    atom pairs, patterns
end note

note top of padel
  **PaDEL-Descriptor:**
  Java tool that reads SMILES
  and generates PubChem
  fingerprints (881 binary bits)
end note

note top of variance
  **Feature Selection:**
  Remove low-variance features
  (threshold = 0.16)
  881 → 178 features
end note

note top of lazy
  **LazyPredict Tests:**
  • RandomForest
  • HistGradientBoosting
  • XGBoost, LightGBM
  • SVR, MLPRegressor
  • 25+ more models
end note

note top of ensemble
  **Ensemble Method:**
  VotingRegressor combines:
  • RandomForest
  • HistGradientBoosting
  • SVR
end note

' ============================================================================
' LEGEND & SUMMARY
' ============================================================================

legend bottom left
    **LEGEND**
    |= Color |= Type |
    | <back:#E3F2FD>   </back> | Database |
    | <back:#FFF3E0>   </back> | Tool |
    | <back:#E8F5E9>   </back> | Process |
    | <back:#F3E5F5>   </back> | Output |
    | <back:#FAFAFA>   </back> | Section |
end legend

note bottom right
    **PROJECT SUMMARY**
    ══════════════════════════════════════════════════════
    **Workflow:** 7 Sections (0, 3-7)
    **Data:** 7,918 → 1,319 compounds → 178 features
    **Best Model:** RandomForest & HistGradientBoosting
    **Performance:** R² = 0.78, RMSE = 0.58
    
    **Key Tools:**
    • Data: pandas, numpy
    • Chemistry: RDKit, PaDEL
    • ML: scikit-learn, LazyPredict, XGBoost
    • Stats: scipy, matplotlib, seaborn
    
    **Impact:** Predict drug potency computationally,
    save millions in development costs
end note

@enduml


' ============================================================================
' ANNOTATIONS
' ============================================================================

note top of chembl
  **ChEMBL Database**
  • EMBL-EBI (UK)
  • 2M+ bioactive compounds
  • IC50 measurements
  • SMILES structures
end note

note bottom of clean
  **Filters:**
  7,918 → 1,497 (IC50 only)
  → 1,351 (nM units)
  → 1,319 (no nulls)
end note

note bottom of classify
  **Classes:**
  • Active: ≤1,000 nM (449)
  • Intermediate: 1K-10K (375)
  • Inactive: ≥10,000 nM (495)
end note

note top of rdkit
  **Lipinski Descriptors:**
  • MW (Molecular Weight)
  • LogP (Lipophilicity)
  • H-bond Donors/Acceptors
end note

note top of pic50
  **Formula:**
  pIC50 = -log₁₀(IC50 in M)
  = 9 - log₁₀(IC50 in nM)
  
  Higher = Better potency
end note

note top of pubchem
  **PubChem Database**
  • NIH/NCBI (USA)
  • 100M+ compounds
  • 881-bit fingerprint
  • Structural patterns
end note

note bottom of padel
  **PaDEL-Descriptor:**
  Java tool that reads SMILES
  and generates PubChem
  fingerprints (881 binary bits)
end note

note bottom of variance
  **Feature Selection:**
  Remove low-variance features
  (threshold = 0.16)
  881 → 178 features
end note

note bottom of lazy
  **LazyPredict Tests:**
  • RandomForest
  • HistGradientBoosting
  • XGBoost, LightGBM
  • SVR, MLPRegressor
  • 25+ more models
end note

note bottom of ensemble
  **Ensemble Method:**
  VotingRegressor combines:
  • RandomForest
  • HistGradientBoosting
  • SVR
end note

' ============================================================================
' LEGEND & SUMMARY
' ============================================================================

legend bottom left
    **LEGEND**
    |= Color |= Type |
    | <back:#E3F2FD>   </back> | Database |
    | <back:#FFF3E0>   </back> | Tool |
    | <back:#E8F5E9>   </back> | Process |
    | <back:#F3E5F5>   </back> | Output |
    | <back:#FAFAFA>   </back> | Section |
    
    **WORKFLOW SECTIONS:**
    • Section 0: Setup (Google Colab)
    • Section 3: Data Collection (ChEMBL)
    • Section 4: EDA (Lipinski, pIC50)
    • Section 5: Feature Engineering (PubChem)
    • Section 6: Machine Learning (LazyPredict)
    • Section 7: Results & Validation
end legend

note as summary
    **PROJECT SUMMARY**
    ══════════════════════════════════════════════════════
    **Target:** Beta-amyloid A4 protein (Alzheimer's)
    **Data Flow:** 7,918 → 1,319 compounds → 178 features
    **Best Models:** RandomForest & HistGradientBoosting
    **Performance:** R² = 0.78, RMSE = 0.58
    
    **Key Tools & Libraries:**
    • Data: pandas, numpy
    • Chemistry: RDKit, PaDEL-Descriptor
    • ML: scikit-learn, LazyPredict, XGBoost, LightGBM
    • Stats: scipy (Mann-Whitney U test)
    • Viz: matplotlib, seaborn
    
    **Databases:**
    • ChEMBL (EMBL-EBI, UK) - Bioactivity data
    • PubChem (NIH/NCBI, USA) - Fingerprint system
    
    **Impact:** Predict drug potency computationally,
    accelerate discovery, save millions in R&D costs
end note

@enduml
